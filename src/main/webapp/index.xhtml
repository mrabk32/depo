<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Almalimi.com | Ürün almadan önce ... </title>
        <h:outputStylesheet library="css" name="default.css"/>
        <h:outputScript library="js" name="main.js"/>
    </h:head>
    <h:body>
        <div id="header">
            <ui:include src="header.xhtml"/>
        </div>
        <div id="content">
            #{MainBean.populerUrunlerList()}
            <div id="contentLeft">
                <div id="sliderBox">
                    <h:graphicImage value="/images/slider.jpg"/>
                </div>
                <div id="urunListHeader">
                    Popüler Ürünler
                </div>
                <div id="urunListBox" >
                    <h:form>
                        <ui:repeat value="#{MainBean.pupulerUrunler}" var="populerUrun">
                            <h:commandLink action="#{MainBean.urunSayfasinaGit(populerUrun.urunID)}">
                                <div class="homeUrunItem">
                                    <div class="homeUrunItemPic">
                                        <h:graphicImage value="#{populerUrun.imagePath}" style="width:350px;height:200px;"/>
                                    </div>
                                    <div class="homeUrunItemBottom">
                                        <div class="homeUrunItemHeader">
                                            <div class="homeUrunItemHeaderText">
                                                #{populerUrun.baslik}
                                            </div>
                                        </div>
                                        <div class="homeUrunItemVote">
                                            <div class="homeUrunItemVoteLike">
                                                <div class="homeUrunItemVotePic">
                                                    <h:graphicImage value="/images/like.png"/>
                                                </div>
                                                <div class="homeUrunItemVoteLikeText">
                                                    <h:outputText value="#{populerUrun.likeCount/(populerUrun.likeCount + populerUrun.dislikeCount)*100}" rendered="#{populerUrun.likeCount != 0}">
                                                    <f:convertNumber pattern="#0.0" />
                                                    </h:outputText> 
                                                    <h:outputLabel value="0" rendered="#{populerUrun.likeCount == 0}"/> %
                                                    
                                                </div>
                                            </div>
                                            <div class="homeUrunItemVoteDislike">
                                                <div class="homeUrunItemVotePic">
                                                    <h:graphicImage value="/images/dislike.png"/>
                                                </div>
                                                <div class="homeUrunItemVoteDislikeText">
                                                    <h:outputText value="#{populerUrun.dislikeCount/(populerUrun.likeCount + populerUrun.dislikeCount)*100}" rendered="#{populerUrun.dislikeCount != 0}">
                                                    <f:convertNumber pattern="#0.0" />
                                                    </h:outputText> 
                                                    <h:outputLabel value="0" rendered="#{populerUrun.dislikeCount == 0}"/> %
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </h:commandLink>
                        </ui:repeat>
                    </h:form>
                </div>
            </div>
            <div id="contentRight">
                #{MainBean.top5UrunList()}
                <div id="top5UrunHeader">
                    Top 5 Ürün
                </div>
                <h:form>
                    <div id="top5UrunBox">
                        <ui:repeat value="#{MainBean.top5Urun}" var="topUrun">
                            <h:commandLink action="#{MainBean.urunSayfasinaGit(topUrun.urunID)}">
                                <div class="top5UrunItem">
                                    <div class="top5UrunLeft">
                                        <h:graphicImage value="#{topUrun.imagePath}" width="180px" height="140px;"/>
                                    </div>
                                    <div class="top5UrunRigth">
                                        <div class="top5UrunRigthTop">
                                            #{topUrun.baslik}
                                        </div>
                                        <div class="top5UrunRightBottom">
                                            <div class="top5UrunVoteBox">
                                                <div class="top5UrunVoteText">
                                                    <h:outputText value="#{topUrun.likeCount/(topUrun.likeCount + topUrun.dislikeCount)*100}" rendered="#{topUrun.likeCount != 0}">
                                                    <f:convertNumber pattern="#0.0" />
                                                    </h:outputText> 
                                                    <h:outputLabel value="0" rendered="#{topUrun.likeCount == 0}"/> %
                                                    
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </h:commandLink>
                        </ui:repeat>
                    </div>
                </h:form>
            </div>
        </div>
        <div id="footer">
            <ui:include src="footer.xhtml"/>
        </div>
    </h:body>
</html>

